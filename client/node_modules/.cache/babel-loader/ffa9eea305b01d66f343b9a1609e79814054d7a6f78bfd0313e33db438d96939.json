{"ast":null,"code":"import React,{useEffect,useState}from'react';import io from'socket.io-client';import\"./App.css\";// Conexão com o servidor Socket.io\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const socket=io('http://localhost:3001');// Componente para o simulador de carros\nconst CarSimulator=_ref=>{let{carName,count,onIncrement,onDecrement}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"car-simulator\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[carName,\": \",count]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onIncrement,children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onDecrement,children:\"-\"})]})]});};function App(){// Estados para armazenar os contadores de cada carro\nconst[porscheCount,setPorscheCount]=useState(0);const[formulaCount,setFormulaCount]=useState(0);const[mercedesCount,setMercedesCount]=useState(0);// Funções para emitir os eventos de incremento e decremento\nconst incrementPorsche=()=>socket.emit(\"increment_porsche\");const decrementPorsche=()=>socket.emit(\"decrement_porsche\");const incrementFormula=()=>socket.emit(\"increment_formula\");const decrementFormula=()=>socket.emit(\"decrement_formula\");const incrementMercedes=()=>socket.emit(\"increment_mercedes\");const decrementMercedes=()=>socket.emit(\"decrement_mercedes\");// Recebe os dados do servidor e atualiza os contadores\nuseEffect(()=>{socket.on(\"receive_message\",data=>{setPorscheCount(data.porscheCount);setFormulaCount(data.formulaCount);setMercedesCount(data.mercedesCount);});// Cleanup: Remove o ouvinte quando o componente for desmontado\nreturn()=>{socket.off(\"receive_message\");};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"T\\xE9rreo\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Simuladores de Carro:\"}),/*#__PURE__*/_jsx(CarSimulator,{carName:\"Porsche\",count:porscheCount,onIncrement:incrementPorsche,onDecrement:decrementPorsche}),/*#__PURE__*/_jsx(CarSimulator,{carName:\"F\\xF3rmula\",count:formulaCount,onIncrement:incrementFormula,onDecrement:decrementFormula}),/*#__PURE__*/_jsx(CarSimulator,{carName:\"Mercedes\",count:mercedesCount,onIncrement:incrementMercedes,onDecrement:decrementMercedes})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","io","jsxs","_jsxs","jsx","_jsx","socket","CarSimulator","_ref","carName","count","onIncrement","onDecrement","className","children","onClick","App","porscheCount","setPorscheCount","formulaCount","setFormulaCount","mercedesCount","setMercedesCount","incrementPorsche","emit","decrementPorsche","incrementFormula","decrementFormula","incrementMercedes","decrementMercedes","on","data","off"],"sources":["C:/Users/arthu/VSCode Projects/SocketIO/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\nimport \"./App.css\"\r\n\r\n// Conexão com o servidor Socket.io\r\nconst socket = io('http://localhost:3001');\r\n\r\n// Componente para o simulador de carros\r\nconst CarSimulator = ({ carName, count, onIncrement, onDecrement }) => {\r\n  return (\r\n    <div className=\"car-simulator\">\r\n      <h3>{carName}: {count}</h3>\r\n      <div className=\"buttons\">\r\n        <button onClick={onIncrement}>+</button>\r\n        <button onClick={onDecrement}>-</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  // Estados para armazenar os contadores de cada carro\r\n  const [porscheCount, setPorscheCount] = useState(0);\r\n  const [formulaCount, setFormulaCount] = useState(0);\r\n  const [mercedesCount, setMercedesCount] = useState(0);\r\n\r\n  // Funções para emitir os eventos de incremento e decremento\r\n  const incrementPorsche = () => socket.emit(\"increment_porsche\");\r\n  const decrementPorsche = () => socket.emit(\"decrement_porsche\");\r\n\r\n  const incrementFormula = () => socket.emit(\"increment_formula\");\r\n  const decrementFormula = () => socket.emit(\"decrement_formula\");\r\n\r\n  const incrementMercedes = () => socket.emit(\"increment_mercedes\");\r\n  const decrementMercedes = () => socket.emit(\"decrement_mercedes\");\r\n\r\n  // Recebe os dados do servidor e atualiza os contadores\r\n  useEffect(() => {\r\n    socket.on(\"receive_message\", (data) => {\r\n      setPorscheCount(data.porscheCount);\r\n      setFormulaCount(data.formulaCount);\r\n      setMercedesCount(data.mercedesCount);\r\n    });\r\n\r\n    // Cleanup: Remove o ouvinte quando o componente for desmontado\r\n    return () => {\r\n      socket.off(\"receive_message\");\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Térreo</h1>\r\n      <h2>Simuladores de Carro:</h2>\r\n      \r\n      {/* Usando o componente reutilizável para cada carro */}\r\n      <CarSimulator \r\n        carName=\"Porsche\" \r\n        count={porscheCount} \r\n        onIncrement={incrementPorsche} \r\n        onDecrement={decrementPorsche} \r\n      />\r\n      \r\n      <CarSimulator \r\n        carName=\"Fórmula\" \r\n        count={formulaCount} \r\n        onIncrement={incrementFormula} \r\n        onDecrement={decrementFormula} \r\n      />\r\n      \r\n      <CarSimulator \r\n        carName=\"Mercedes\" \r\n        count={mercedesCount} \r\n        onIncrement={incrementMercedes} \r\n        onDecrement={decrementMercedes} \r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}