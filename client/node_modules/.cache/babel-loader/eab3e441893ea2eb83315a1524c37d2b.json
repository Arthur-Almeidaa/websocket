{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arthu\\\\VSCode Projects\\\\SocketIO\\\\client\\\\src\\\\App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./App.css\";\nconst socket = io(\"http://localhost:3001\");\n\n// Componente para cada simulador de carro\nconst CarSimulator = ({\n  carName,\n  count,\n  onIncrement,\n  onDecrement\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"car-simulator\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }\n  }, carName, \": \", count), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onIncrement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onDecrement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, \"-\")));\n};\nfunction App() {\n  // Estado único para armazenar os contadores\n  const [counters, setCounters] = useState({\n    porsche: 0,\n    formula: 0,\n    mercedes: 0\n  });\n\n  // Atualiza o estado local com os dados recebidos do servidor\n  useEffect(() => {\n    socket.on(\"receive_message\", data => setCounters(data));\n\n    // Cleanup do ouvinte\n    return () => {\n      socket.off(\"receive_message\");\n    };\n  }, []);\n\n  // Função genérica para emitir eventos ao servidor\n  const emitEvent = (type, action) => {\n    socket.emit(`${action}_${type}`);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"T\\xE9rreo\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"Simuladores de Carro:\"), Object.entries(counters).map(([carName, count]) => /*#__PURE__*/React.createElement(CarSimulator, {\n    key: carName,\n    carName: carName.charAt(0).toUpperCase() + carName.slice(1),\n    count: count,\n    onIncrement: () => emitEvent(carName, \"increment\"),\n    onDecrement: () => emitEvent(carName, \"decrement\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  })));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","io","socket","CarSimulator","carName","count","onIncrement","onDecrement","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","App","counters","setCounters","porsche","formula","mercedes","on","data","off","emitEvent","type","action","emit","Object","entries","map","key","charAt","toUpperCase","slice"],"sources":["C:/Users/arthu/VSCode Projects/SocketIO/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport \"./App.css\";\r\n\r\nconst socket = io(\"http://localhost:3001\");\r\n\r\n// Componente para cada simulador de carro\r\nconst CarSimulator = ({ carName, count, onIncrement, onDecrement }) => {\r\n  return (\r\n    <div className=\"car-simulator\">\r\n      <h3>{carName}: {count}</h3>\r\n      <div className=\"buttons\">\r\n        <button onClick={onIncrement}>+</button>\r\n        <button onClick={onDecrement}>-</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  // Estado único para armazenar os contadores\r\n  const [counters, setCounters] = useState({\r\n    porsche: 0,\r\n    formula: 0,\r\n    mercedes: 0,\r\n  });\r\n\r\n  // Atualiza o estado local com os dados recebidos do servidor\r\n  useEffect(() => {\r\n    socket.on(\"receive_message\", (data) => setCounters(data));\r\n\r\n    // Cleanup do ouvinte\r\n    return () => {\r\n      socket.off(\"receive_message\");\r\n    };\r\n  }, []);\r\n\r\n  // Função genérica para emitir eventos ao servidor\r\n  const emitEvent = (type, action) => {\r\n    socket.emit(`${action}_${type}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Térreo</h1>\r\n      <h2>Simuladores de Carro:</h2>\r\n\r\n      {/* Mapeia os simuladores com base no estado */}\r\n      {Object.entries(counters).map(([carName, count]) => (\r\n        <CarSimulator\r\n          key={carName}\r\n          carName={carName.charAt(0).toUpperCase() + carName.slice(1)}\r\n          count={count}\r\n          onIncrement={() => emitEvent(carName, \"increment\")}\r\n          onDecrement={() => emitEvent(carName, \"decrement\")}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}